<ion-view title="Search Filter">

	<ion-nav-buttons side="left">
    	<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  	</ion-nav-buttons>

	<!-- Search bar --
	<ion-header-bar class="bar-light bar-subheader">
		<div class="bar bar-header item-input-inset">
			<label class="item-input-wrapper">
				<i class="icon ion-ios7-search placeholder-icon"></i>
				<input
				type="search"
				placeholder="Filter stories"
				ng-model="search"
				ng-focus="searchFocused = true"
				ng-blur="searchFocused = false"
				ng-change="filterSearch()">
		</div>
	</ion-header-bar-->

	<!-- Stories -->
	<ion-content>

		<!-- Search bar -->
		<div id="search-box" class="bar bar-header item-input-inset">
			<div class="item-input-wrapper">
	          <i class="icon ion-ios7-search placeholder-icon"></i>
	          <input type="search" placeholder="Search" ng-model="search" ng-change="filterSearch()">
	          <i class="clear-search icon ion-ios7-close-empty" on-tap="clearSearch()"></i>
	        </div>
	        <button on-tap="performSearch()" class="button button-clear" >Search</button>
	    </div>
	    
		<div class="list">
			<a class="item my-item"
			collection-repeat="story in stories"
			collection-item-height="100" 
			collection-item-width="'100%'"
			ng-style="{'line-height' :'100px'}"
			href="#/app/search/{{story.pub_id}}?story_title={{story.title}}&story_text={{story.text}}&authors={{story.authors[0]}}">
				{{story.title}}
    		</a>
		</div>

		<!-- Infinite scrolling -->
		<ion-infinite-scroll on-infinite="loadMore()" distance="5%"></ion-infinite-scroll>
		<!-- <ion-infinite-scroll ng-if="moreDataCanBeLoaded()" on-infinite="loadMore()" distance="5%"></ion-infinite-scroll> -->
	</ion-content>

</ion-view>