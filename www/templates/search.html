<ion-view title="Search">

	<ion-nav-buttons side="left">
    	<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  	</ion-nav-buttons>

  	<!-- Search bar -->
	<ion-header-bar class="bar-light bar-subheader">
		<input 
		type="search"
		placeholder="Filter stories"
		ng-model="search"
		ng-focus="searchFocused = true"
		ng-blur="searchFocused = false"
		ng-change="filterSearch()">
	</ion-header-bar>

	<!-- Stories -->
	<ion-content>
		<div class="list">
			<a class="item my-item"
			collection-repeat="story in stories"
			collection-item-height="100" 
			collection-item-width="'100%'"
			ng-style="{'line-height' :'100px'}"
			href="#/app/search/{{story.pub_id}}?story_title={{story.title}}&story_text={{story.text}}&authors={{story.authors[0]}}">
				{{story.title}}
    		</a>
		</div>

		<!-- Infinite scrolling -->
		<ion-infinite-scroll on-infinite="loadMore()" distance="5%"></ion-infinite-scroll>
		<!-- <ion-infinite-scroll ng-if="moreDataCanBeLoaded()" on-infinite="loadMore()" distance="5%"></ion-infinite-scroll> -->
	</ion-content>

</ion-view>